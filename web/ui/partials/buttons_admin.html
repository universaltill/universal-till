{{ define "buttons_admin" }}
<div class="products">
  <h2>Products</h2>

  <form class="card form-row" hx-post="/api/buttons/add" hx-target="#buttons-grid-admin" hx-swap="outerHTML">
    <input type="text" name="label" placeholder="Label (e.g., Latte)" required>
    <input type="text" name="code"  placeholder="Code (e.g., L)" required>
    <input type="number" name="priceCents" placeholder="Price (cents)" min="0" required>
    <input type="url" name="imageUrl" placeholder="Image URL (optional)">
    <button type="submit">Add / Replace</button>
  </form>

  <div id="buttons-grid-admin" class="grid">
    {{ range .Buttons }}
      <div class="btn-tile">
        {{ if .ImageURL }}
        <img class="thumb" src="{{ .ImageURL }}" alt="{{ .Label }}" />
        {{ end }}
        <div>{{ .Label }} Â£{{ .Price }}</div>
        <form class="remove"
              hx-post="/api/buttons/remove"
              hx-target="#buttons-grid-admin" hx-swap="outerHTML">
          <input type="hidden" name="code" value="{{ .Code }}">
          <button type="submit" class="btn danger">Remove</button>
        </form>
      </div>
    {{ else }}
      <p class="empty">No products yet.</p>
    {{ end }}
  </div>
</div>
{{ end }}
