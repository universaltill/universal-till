<!-- web/ui/partials/buttons.html -->
{{ define "buttons" }}
<div class="products">
  <h2>Products</h2>

  <form class="card form-row" hx-post="/api/buttons/add" hx-target="#buttons-grid" hx-swap="outerHTML">
    <input type="text" name="label" placeholder="Label (e.g., Latte)" required>
    <input type="text" name="code"  placeholder="Code (e.g., L)" required>
    <input type="number" name="priceCents" placeholder="Price (cents)" min="0" required>
    <button type="submit">Add / Replace</button>
  </form>

  <div id="buttons-grid" class="grid">
    {{ range .Buttons }}
      <div class="btn-tile">
        <button
          class="btn primary"
          hx-post="/api/pos/scan"
          hx-vals='{"Code":"{{ .Code }}"}'
          hx-trigger="click"
          hx-target="#basket"
          hx-swap="outerHTML">
          {{ .Label }} Â£{{ .Price }}
        </button>
        <form class="remove"
              hx-post="/api/buttons/remove"
              hx-target="#buttons-grid" hx-swap="outerHTML">
          <input type="hidden" name="code" value="{{ .Code }}">
          <button type="submit" class="btn danger">Remove</button>
        </form>
      </div>
    {{ else }}
      <p class="empty">No quick buttons yet. Add some above.</p>
    {{ end }}
  </div>
</div>
{{ end }}
